<html>
<head>
    <script src="js/jquery.min.js"></script>
</head>
<body>
<form>
    To search:
    <input id="atoSearch0">
    <input id="atoSearch1">
    <input id="atoSearch2">
    <input id="atoSearch3">
    <input id="atoSearch4">
    <input id="atoSearch5">
    <input id="atoSearch6">
    <input id="atoSearch7">
<br>
    <hr>
    <br>
    <input id="btoSearch0">
    <input id="btoSearch1">
    <input id="btoSearch2">
    <input id="btoSearch3">
    <input id="btoSearch4">
    <input id="btoSearch5">
    <input id="btoSearch6">
    <input id="btoSearch7">
    <br>
    <hr>
    <br>
    start char num <input id="startChar">
    &nbsp;&nbsp;
    end char num <input id="endChar">
    &nbsp;&nbsp;
    go back :<input id="goBack"> num of Chars
    <hr>
    <a href="#" onclick="searchStrings()">Run Search</a>
    <br>
    <div id="resultBox" style="width:100%;height:300 px"></div>
    <hr>
    String to search:<br>
    <textarea id="fullTxtSearch" style="width:100%; height:400px;"></textarea>
    <br>


</form>

<script>

function searchStrings(){
    var theString=$( "#fullTxtSearch" ).val();
    var atoSearch=[];
    var btoSearch=[];
    for (var i=0;i<8;i++){
        atoSearch.push($( "#atoSearch"+i ).val().toLowerCase());
        btoSearch.push($( "#btoSearch"+i ).val().toLowerCase());

    }
    //console.log(theString);
    var numChars=theString.length;

    var fromChar=parseInt($("#startChar" ).val());
    var toChar=parseInt($( "#endChar" ).val());
    var startSearchFrom,endSearchTo;
    if (fromChar>toChar){
        startSearchFrom=toChar-parseInt($("#goBack" ).val());
        endSearchTo=fromChar;
    }else{
        startSearchFrom=fromChar-parseInt($("#goBack" ).val());
        endSearchTo=toChar;
    }
    theString= theString.substring(startSearchFrom-1, endSearchTo+1);
    for (var i=0;i<8;i++){
        console.log("replacing:");
        console.log(atoSearch[i]);
        theString = theString.replace(atoSearch[i], "<span style='background-color:rgba(200,200,0,0.3)'>"+atoSearch[i]+"</span>;");
    }
    for (var i=0;i<8;i++){
        theString = theString.replace(btoSearch[i], "<span style='background-color:rgba(0,200,0,0.3)'>"+btoSearch+"</span>;");
    }





    $("#resultBox").html(theString);


}
</script>
</body>
</html>
